var MsCombobox=function(e){"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,c=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(c.push(o.value),!t||c.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(a)throw i}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function o(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a")).replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e")).replace(/ì|í|ị|ỉ|ĩ/g,"i")).replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o")).replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u")).replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y")).replace(/đ/g,"d")).replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A")).replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E")).replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I")).replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O")).replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U")).replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y")).replace(/Đ/g,"D")).replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"")).replace(/\u02C6|\u0306|\u031B/g,"")).replace(/ + /g," ")).trim()).replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g," ")}var i=13,c=38,r=40,a=27,l={name:"MSCombobox",directives:{clickoutside:{mounted:function(e,t,n,o){e.clickOutsideEvent=function(n){e===n.target||e.contains(n.target)||e.previousElementSibling.contains(n.target)||t.value(n,e)},document.body.addEventListener("click",e.clickOutsideEvent)},beforeUnmount:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}},props:{value:null,url:String,propValue:String,propText:String,isLoadData:{type:Boolean,default:!0}},methods:{saveItemFocus:function(e){this.indexItemFocus=e},hideListData:function(){this.isShowListData=!1},btnSelectDataOnClick:function(){this.dataFilter=this.data,this.isShowListData=!this.showListData},itemOnSelect:function(e,t){var n=e[this.propText],o=e[this.propValue];this.textInput=n,this.indexItemSelected=t,this.isShowListData=!1,this.$emit("getValue",o,n,e)},inputOnChange:function(){var e=this;this.dataFilter=this.data.filter((function(t){var n=o(e.textInput).toLowerCase().replace(" ","");return o(t[e.propText]).toLowerCase().replace(" ","").includes(n)})),this.isShowListData=!0},selecItemUpDown:function(){var e=this,t=null;switch(event.keyCode){case a:this.isShowListData=!1;break;case r:this.isShowListData=!0,t=this.$refs["toFocus_".concat(e.indexItemFocus+1)],null!=this.indexItemFocus&&t&&0!=t.length?this.indexItemFocus+=1:this.indexItemFocus=0;break;case c:this.isShowListData=!0,t=this.$refs["toFocus_".concat(e.indexItemFocus-1)],null!=this.indexItemFocus&&t&&0!=t.length?this.indexItemFocus-=1:this.indexItemFocus=this.dataFilter.length-1;break;case i:(t=this.$refs["toFocus_".concat(e.indexItemFocus)])&&t.length>0&&(t[0].click(),this.isShowListData=!1)}}},created:function(){var e=this;this.url&&fetch(this.url).then((function(e){return e.json()})).then((function(t){e.data=t,e.dataFilter=t})).catch((function(e){console.log(e)}))},data:function(){return{data:[],textInput:null,dataFilter:[],isShowListData:!1,indexItemFocus:null,indexItemSelected:null}}},s={class:"combobox"},u=["src"],d={key:0,class:"combobox__data",ref:"combobox__data"},b=["value","onClick","onFocus","onKeydown","onKeyup"],p={class:"combobox__item-icon"},m=["src"];!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}("\n.combobox[data-v-233bc0ac] {\n  position: relative;\n  /* flex-direction: row; */\n  border-radius: 4px;\n  box-sizing: border-box;\n}\n.combobox__input[data-v-233bc0ac],\nselect[data-v-233bc0ac] {\n  width: 100%;\n  height: 40px;\n  flex: 1;\n  padding-right: 56px !important;\n  padding-left: 16px;\n  border-radius: 4px;\n  outline: none;\n  border: 1px solid #bbbbbb;\n  font-family: MISA Fonts;\n  box-sizing: border-box;\n}\n.combobox__input[data-v-233bc0ac]:focus,\n.combobox__input:focus ~ .combobox__button[data-v-233bc0ac] {\n  border-color: #019160;\n}\n.combobox__button[data-v-233bc0ac] {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: rgb(90, 90, 90);\n  border-radius: 0 4px 4px 0;\n  right: 0px;\n  top: 0px;\n  border: 1px solid #bbbbbb;\n  border-left: unset;\n  height: 40px;\n  width: 40px;\n  border-radius: 0 4px 4px 0px;\n  background-color: #fff;\n  cursor: pointer;\n  min-width: unset !important;\n  outline: none;\n  box-sizing: border-box;\n  opacity: 0.5;\n}\n.combobox__button[data-v-233bc0ac]:hover,\n.combobox__button[data-v-233bc0ac]:focus {\n  background-color: #bbbbbb;\n  color: #000;\n}\n.combobox__data[data-v-233bc0ac] {\n  display: flex;\n  flex-direction: column;\n  padding: 4px 0px;\n  position: absolute;\n  width: 100%;\n  top: 100%;\n  left: 0;\n  border-radius: 4px;\n  background-color: #fff;\n  box-shadow: 0px 3px 6px #00000016;\n  z-index: 999;\n}\n.combobox__item[data-v-233bc0ac] {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  line-height: 40px;\n  padding-left: 10px;\n  height: 40px;\n  cursor: pointer;\n  /* border: 1px solid #ccc; */\n  outline: none;\n}\n.combobox__item-icon[data-v-233bc0ac] {\n  width: 16px;\n  height: 16px;\n  font-size: 16px;\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.combobox__item-icon--selected[data-v-233bc0ac] {\n  width: 14px;\n  height: 11px;\n}\n.combobox__item[data-v-233bc0ac]:hover,\n.combobox__item[data-v-233bc0ac]:focus,\n.combobox__item--focus[data-v-233bc0ac],\n.combobox__item--hover[data-v-233bc0ac] {\n  background-color: #e9ebee;\n  color: #000;\n}\n.combobox__item--selected[data-v-233bc0ac] {\n  pointer-events: none;\n  background-color: #019160;\n  color: #fff;\n}\n"),l.render=function(t,n,o,i,c,r){var a=this,l=e.resolveDirective("clickoutside");return e.openBlock(),e.createElementBlock("div",s,[e.withDirectives(e.createElementVNode("input",{type:"text",class:"input combobox__input","onUpdate:modelValue":n[0]||(n[0]=function(e){return c.textInput=e}),onInput:n[1]||(n[1]=function(){return r.inputOnChange&&r.inputOnChange.apply(r,arguments)}),onKeydown:n[2]||(n[2]=function(){return r.selecItemUpDown&&r.selecItemUpDown.apply(r,arguments)})},null,544),[[e.vModelText,c.textInput]]),e.createElementVNode("button",{class:"button combobox__button",onClick:n[3]||(n[3]=function(){return r.btnSelectDataOnClick&&r.btnSelectDataOnClick.apply(r,arguments)}),onKeydown:n[4]||(n[4]=function(){return r.selecItemUpDown&&r.selecItemUpDown.apply(r,arguments)}),tabindex:"-1"},[e.createElementVNode("img",{src:require("../src/icon/down.png"),alt:"",srcset:"",width:"24",height:"24"},null,8,u)],32),c.isShowListData?e.withDirectives((e.openBlock(),e.createElementBlock("div",d,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.dataFilter,(function(t,n){return e.openBlock(),e.createElementBlock("a",{class:e.normalizeClass(["combobox__item",{"combobox__item--focus":n==c.indexItemFocus,"combobox__item--selected":n==c.indexItemSelected}]),key:t[a.propValue],ref_for:!0,ref:"toFocus_"+n,value:t[a.propValue],onClick:function(e){return r.itemOnSelect(t,n)},onFocus:function(e){return r.saveItemFocus(n)},onKeydown:function(e){return r.selecItemUpDown(n)},onKeyup:function(e){return r.selecItemUpDown(n)},tabindex:"1"},[e.createElementVNode("div",p,[e.withDirectives(e.createElementVNode("img",{src:require("../src/icon/check.png"),alt:"",srcset:"",width:"14",height:"11"},null,8,m),[[e.vShow,n==c.indexItemSelected]])]),e.createElementVNode("span",null,e.toDisplayString(t[a.propText]),1)],42,b)})),128))])),[[l,r.hideListData]]):e.createCommentVNode("",!0)])},l.__scopeId="data-v-233bc0ac";var h=function(){var e=l;return e.install=function(t){t.component("MsCombobox",e)},e}(),x=Object.freeze({__proto__:null,default:h});return Object.entries(x).forEach((function(e){var n=t(e,2),o=n[0],i=n[1];"default"!==o&&(h[o]=i)})),h}(Vue);